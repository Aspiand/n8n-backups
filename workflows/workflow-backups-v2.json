{"createdAt":"2025-08-12T05:29:06.103Z","updatedAt":"2025-08-12T06:01:09.000Z","id":"U2TuQ7hv8IYTlBMB","name":"workflow-backups-v2","active":false,"isArchived":false,"nodes":[{"parameters":{"rule":{"interval":[{"triggerAtHour":1}]}},"type":"n8n-nodes-base.scheduleTrigger","typeVersion":1.2,"position":[-32,0],"id":"966bfb2f-5ea1-42f7-b1f4-e894f2ba324e","name":"Schedule Trigger"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"0fba8066-16ba-474e-9715-cf0541bf2e74","leftValue":"={{ $json.isArchived }}","rightValue":"","operator":{"type":"boolean","operation":"false","singleValue":true}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.filter","typeVersion":2.2,"position":[640,0],"id":"43cf3397-0dce-429f-8516-ebbe11763853","name":"Filter not Archived Workflow"},{"parameters":{"keepOnlySet":true,"values":{"string":[{"name":"repo.owner","value":"Aspiand"},{"name":"repo.name","value":"n8n-backups"},{"name":"repo.branch","value":"mainh"},{"name":"repo.path","value":"workflows/"}]},"options":{}},"id":"a3c30eb5-7e6a-4fd1-ac13-d8df075fefcc","name":"Globals","type":"n8n-nodes-base.set","position":[192,0],"typeVersion":1},{"parameters":{"resource":"file","operation":"get","owner":{"__rl":true,"value":"={{ $('Globals').item.json.repo.owner }}","mode":"name"},"repository":{"__rl":true,"value":"={{ $('Globals').item.json.repo.name }}","mode":"name"},"filePath":"={{ $('Globals').item.json.repo.path }}{{ $json.name }}.json","asBinaryProperty":false,"additionalParameters":{"reference":"={{ $('Globals').item.json.repo.branch }}"}},"type":"n8n-nodes-base.github","typeVersion":1.1,"position":[880,0],"id":"69ef2347-7d6f-4b83-8e49-fbcd35460919","name":"Get a file","webhookId":"20a2ae86-7b8f-4dcc-b8dd-995ca7586c2d","credentials":{"githubApi":{"id":"oQjobBq62ZuUJvr3","name":"GitHub account"}},"onError":"continueRegularOutput"},{"parameters":{"filters":{},"requestOptions":{}},"type":"n8n-nodes-base.n8n","typeVersion":1,"position":[416,0],"id":"cca783cc-dd7b-406d-abc2-45ff59eaaeb3","name":"Get All Workflows","credentials":{"n8nApi":{"id":"yd5BpxBJrH3vBANP","name":"n8n account"}}},{"parameters":{"content":"## TODO\n- remove file from repository","height":224,"width":256},"type":"n8n-nodes-base.stickyNote","position":[-432,-368],"typeVersion":1,"id":"3374ab97-d1cc-4d09-92c1-a94adf399f24","name":"Sticky Note"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"38643522-099f-4497-8863-61e0c3c10aca","leftValue":"={{ $json.error }}","rightValue":"","operator":{"type":"string","operation":"notExists","singleValue":true}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[1120,0],"id":"5027c68f-a347-47fa-bf72-436dec0398d2","name":"If"}],"connections":{"Schedule Trigger":{"main":[[{"node":"Globals","type":"main","index":0}]]},"Globals":{"main":[[{"node":"Get All Workflows","type":"main","index":0}]]},"Filter not Archived Workflow":{"main":[[{"node":"Get a file","type":"main","index":0}]]},"Get All Workflows":{"main":[[{"node":"Filter not Archived Workflow","type":"main","index":0}]]},"Get a file":{"main":[[{"node":"If","type":"main","index":0}]]},"If":{"main":[[],[]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"ad3e7b79-cc3a-4d99-b8d9-feda9f33bbb7","triggerCount":0,"tags":[]}